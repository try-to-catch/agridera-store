import{u as d}from"./products-98c2327d.js";import{k as u,g as i}from"./index-e454170f.js";function p(){const{getProducts:n,products:s}=d(),t=u([]),a=u([]),c=()=>{const r=localStorage.getItem("cart");if(r){t.value=[...r.split(",")],s.value.length||n();const e=s.value.filter(o=>t.value.includes(String(o.id)));a.value=[...e]}};return i(c),{cartIds:t,cart:a,addToCart:r=>{const e=String(r);t.value.includes(e)||(t.value.push(e),localStorage.setItem("cart",t.value.join(",")))},isProductInCart:r=>{const e=String(r);return t.value.includes(e)},removeFromCart:r=>{const e=String(r);if(t.value.includes(e)){const o=t.value.filter(l=>l!==e);localStorage.setItem("cart",o.join(",")),t.value=[],a.value=[],c()}},clearCart:()=>{t.value=[],a.value=[],localStorage.removeItem("cart")}}}export{p as u};
